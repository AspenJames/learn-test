#!/usr/bin/env ruby

require 'optparse'
require 'ironboard'

spec_type = Ironboard::SpecTypeParser.new.spec_type

if spec_type == "jasmine"
  SERVICE_URL = 'http://ironbroker.flatironschool.com'
  SERVICE_ENDPOINT = '/e/flatiron_jasmine/build/ironboard'


elsif spec_type == "rspec"
  SERVICE_URL = 'http://ironbroker.flatironschool.com'
  SERVICE_ENDPOINT = '/e/flatiron_rspec/build/ironboard'

  username = Ironboard::UsernameParser.get_username
  user_id = Ironboard::UserIdParser.get_user_id
  repo = Ironboard::RepoParser.get_repo
  runner = Ironboard::RSpec::Runner.new(username, user_id, repo, ARGV)
  runner.run
else
  puts "This directory doesn't appear to have any specs in it."
end



